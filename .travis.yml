language: clojure
script: lein doo node "server-tests" once
notifications:
  email:
    on_success: always
    on_failure: always
    recipients:
    - filip@district0x.io
    - juan@district0x.io
    - mike@district0x.io
  slack:
    on_success: always
    on_failure: always
    secure: df8aiBe4HLnbE8zv5d6UytBgJa/yPV4TncyPCmHNP+ERNcddKMiI9NHcKTMuzFrdmlNegZQi+Gv2kccSwZUkYEyXYr4kLaQ8GTAoD8cBBcC3TPVKbqp2mqnqwYHLTJOyk7n540ke7vfQcc8cRY6I01BTVGhVZwVpjtthxRMrjtKxccL13EZ9f4z3mSOyrgO/Gn1XINRw23JHN+PK9bHFVlNbuV9DvxHHrT1xt1DUvu/CEP2yJILYO95usUO+XaRn69V21C3Rz1oBQruaPUfVsRaGgjER8q04hu2oj39FP2yd6GFArVZVrBASCvDpJR0eMPP7RGeK4PF5MOhjFogt48KJY5s579L5uvmKrPzJLF54pIPpx01UeyoJ8wIdYAggCii1D9yPteJKUZ14epiPOe4a8RDI+RXz8sPYfu61x0R9oVITi3MIT+ZlrLrGMQaDmS3tgMTqj877ZEBf0EPF70OsgCDgvhyi0h8vKuK1jwAx+GH3m1VcB4NzhUz+cLsUZSg8Df/5t5H/F2Jf2AxNRsfXoP8yweu500GW8gatIh61QdG93vUDSUPOvZTR1vQ/6/kJLRQBiaKa1Ec5WkC+QasN0Css+gaTHBTR4a6VwuoCvCzJ/ETW3ILdxqTHg3OtIsFJwhB7ly4JU09tQ2t9yg0lJ/qtboKUSMGSi6iN1A0=
before_install:
- sudo add-apt-repository --yes ppa:ethereum/ethereum
- sudo apt-get -qq update
before_script:
- sudo apt-get --yes install solc
- lein solc
- npm install -g ganache-cli
- ganache-cli -p 8549 > /dev/null &
- wget https://dist.ipfs.io/ipfs-update/v1.5.2/ipfs-update_v1.5.2_linux-amd64.tar.gz
  -O ipfs-update.tar.gz
- tar -xzf ipfs-update.tar.gz
- ipfs-update/ipfs-update install latest
- ipfs init
- ipfs daemon > /dev/null &
